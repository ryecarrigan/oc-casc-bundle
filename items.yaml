removeStrategy:
  rbac: SYNC
  items: NONE

items:
  - kind: folder
    displayName: Releases
    name: releases
    description: 'Monthly releases from CloudBees'
    items:
      - kind: managedController
        displayName: "CloudBees CI - 2.401.2"
        description: 'Controller running the June 2023 release from CloudBees'
        name: r24012
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.401.2.3"
        properties:
          - configurationAsCode:
              bundle: main/default-2.401
      - kind: managedController
        displayName: "CloudBees CI - 2.401.1"
        description: 'Controller running the late May 2023 release from CloudBees'
        name: r24011
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.401.1.3"
        properties:
          - configurationAsCode:
              bundle: main/default-2.401
      - kind: managedController
        displayName: "CloudBees CI - 2.387.3"
        description: 'Controller running the early May 2023 release from CloudBees'
        name: r23873
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.387.3.3"
        properties:
          - configurationAsCode:
              bundle: main/default-2.387
      - kind: managedController
        displayName: "CloudBees CI - 2.387.2"
        description: 'Controller running the April 2023 release from CloudBees'
        name: r23872
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.387.2.4"
        properties:
          - configurationAsCode:
              bundle: main/default-2.387
      - kind: managedController
        displayName: "CloudBees CI - 2.387.1"
        description: 'Controller running the March 2023 release from CloudBees'
        name: r23871
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.387.1.3"
        properties:
          - configurationAsCode:
              bundle: main/default-2.387
      - kind: managedController
        displayName: "CloudBees CI - 2.375.3"
        description: 'Controller running the February 2023 release from CloudBees'
        name: r23753
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.375.3.5"
        properties:
          - configurationAsCode:
              bundle: main/default-2.375
      - kind: managedController
        displayName: "CloudBees CI - 2.375.2"
        description: 'Controller running the January 2023 release from CloudBees'
        name: r23752
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.375.2.3"
        properties:
          - configurationAsCode:
              bundle: main/default-2.375
      - kind: managedController
        displayName: "CloudBees CI - 2.375.1"
        description: 'Controller running the late November 2022 release from CloudBees'
        name: r23751
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.375.1.1"
        properties:
          - configurationAsCode:
              bundle: main/default-2.375
      - kind: managedController
        displayName: "CloudBees CI - 2.361.3"
        description: 'Controller running the early November 2022 release from CloudBees'
        name: r23613
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.361.3.2"
        properties:
          - configurationAsCode:
              bundle: main/default-2.346
      - kind: managedController
        displayName: "CloudBees CI - 2.361.2"
        description: 'Controller running the October 2022 release from CloudBees'
        name: r23612
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.361.1.2"
        properties:
          - configurationAsCode:
              bundle: main/default-2.346
      - kind: managedController
        displayName: "CloudBees CI - 2.361.1"
        description: 'Controller running the September 2022 release from CloudBees'
        name: r23611
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.361.1.2"
        properties:
          - configurationAsCode:
              bundle: main/default-2.346
      - kind: managedController
        displayName: "CloudBees CI - 2.346.4"
        description: 'Controller running the late August 2022 release from CloudBees'
        name: r23464
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.4.1"
        properties:
          - configurationAsCode:
              bundle: main/default-2.346
      - kind: managedController
        displayName: "CloudBees CI - 2.346.3"
        description: 'Controller running the early August 2022 release from CloudBees'
        name: r23463
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.3.4"
        properties:
          - configurationAsCode:
              bundle: main/default-2.346
      - kind: managedController
        displayName: "CloudBees CI - 2.346.2"
        description: 'Controller running the July 2022 release from CloudBees'
        name: r23462
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.2.2"
        properties:
          - configurationAsCode:
              bundle: main/default-2.346
      - kind: managedController
        displayName: "CloudBees CI - 2.346.1"
        description: 'Controller running the June 2022 release from CloudBees'
        name: r23461
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.1.4"
        properties:
          - configurationAsCode:
              bundle: main/default-2.346

# Example teams
  - kind: folder
    displayName: team-purple
    name: team-purple
    description: "Controllers for Team Purple's projects"
    groups:
      - name: 'team-purple-int'
        members:
          external_groups:
            - 'team-purple-ext'
          users:
            - 'purple'
        roles:
          - name: 'developer-role'
            grantedAt: 'current'
            propagates: 'true'
    items:
      - kind: managedController
        displayName: "Team Purple's Controller 1"
        name: team-purple-1
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.4.1"
        properties:
          - configurationAsCode:
              bundle: main/items-example
      - kind: managedController
        displayName: "Team Purple's Controller 2"
        name: team-purple-2
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.4.1"
        properties:
          - configurationAsCode:
              bundle: main/items-example
  - kind: folder
    displayName: team-orange
    name: team-orange
    description: "Controllers for Team Orange's projects"
    groups:
      - name: 'team-orange-int'
        members:
          external_groups:
            - 'team-orange-ext'
          users:
            - 'orange'
        roles:
          - name: 'developer-role'
            grantedAt: 'current'
            propagates: 'true'
    items:
      - kind: managedController
        displayName: "Team Orange's Controller 1"
        name: team-orange-1
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.4.1"
        properties:
          - configurationAsCode:
              bundle: main/items-example
      - kind: managedController
        displayName: "Team Orange's Controller 2"
        name: team-orange-2
        configuration:
          kubernetes:
            image: "CloudBees CI - Managed Controller - 2.346.4.1"
        properties:
          - configurationAsCode:
              bundle: main/items-example
